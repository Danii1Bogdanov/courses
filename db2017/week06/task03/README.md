**TL;DR:** преобразуйте одним запросом дерево, представленное структурными метками ltree в дерево, представленное в виде вложенных множеств.

У вас есть таблица `KeywordLtree` в которой записано небольшое дерево с помощью структурных меток.

```sql
CREATE TABLE KeywordLtree(id INT PRIMARY KEY, value TEXT, path ltree);
```

Его корневая вершина имеет идентификатор `0` и пустой путь. Соседние вершины упорядочены в порядке возрастания идентификаторов. Вы хотите написать один запрос, который сгенерирует вам представление этого же дерева в виде вложенных множеств.

Правила генерации левого и правого номеров должны быть такими, какие описаны в уроке. Оба номера берутся из одной монотонно возрастающей последовательности, начинающейся с `1`, левый номер назначается сразу после входа в вершину при обходе в глубину, правый непосредственно перед возвращением к родителю. Смотрите картинку в качестве примера.

![Nested set](https://ucarecdn.com/4f8918dc-f871-4e47-9b48-1cf7fcca94bf/)

Требуется написать один запрос, но в его написании вам может помочь небольшое, но очень полезное нерекурсивное представление общее табличное выражение. Представления использовать, к сожалению, не получится по техническим причинам.